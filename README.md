# Документация по vk_api

Данная библиотека позволяет: отправлять сообщения, изображения и клавиатуру для ботов ВК.

****************************************
## Начало работы:
```php
require_once "vk_api.php"; //Подключаем библиотеку для работы с vk_api
$vk = new vk_api("ВАШ_ТОКЕН", "ВЕРСИЯ_API"); //Токен сообщества VK
```
******************************************
## Универсальный метод:
```php
$method //Метод из документации api в VK
$array_arguments //Массив входных параметров
$vk->request($method, $array_arguments);
```
Возвращает массив ответа от api ВК, т.е. все параметры, указанные в документации вк к методу\
Пример:
```php
$vk->request('users.get', ["user_ids" => $id]) // Получение имени и фамилия пользователя по ID
```
******************************************
## Отправка сообщения:
### Пользователю:
```php
$id // ID - пользователя
$message // сообщение
$vk->sendMessage($id, $message);
```
### В беседу:
```php
$peer_id // id чата (можно получить например через callBack api)
$message // сообщение
$vk->sendMessageChat($peer_id, $message);
```
*******************************************
## Отправка изображеий:
### Пользователю:
```php
$id // ID пользователя VK, которому будет отправлена картинка
$upload_image // Локальный путь до картинке
$vk->sendImage($id, $upload_image);
```
#### Пример использования:
```php
$vk->sendImage($id, "img/pink_salmon.jpg");
```
### В беседу:
```php
$peer_id // ID чата, которому будет отправлена картинка
$upload_image // Локальный путь до картинке
$vk->sendImageChat($peer_id, $upload_image);
```
#### Пример использования:
```php
$vk->sendImageChat($peer_id, "img/pink_salmon.jpg");
```
*******************************************
## Работа с клавиатурой:
###Создание кнопок:
```php
$button1_1 = [null, "white", "white"];
$button1_2 = [["animals" => 'Pig'], "blue", "blue"];
$button2_1 = [["animals" => 'Cow'], "green", "green"];
$button2_2 = [["animals" => 'Chicken'], "red", "red"];
```
#### Как описываются кнопки ?
Параметр 1: Payload - может принимать значение: ассоциативный массив или null\
Параметр 2: Надпись на кнопке - текст\
Параметр 3: Цвет кнопки - может принимать значения: white, blue, green, red
### Отправка клавиатуры пользователю:
```php
$id // ID пользователя, кому будет отправлена клавиатура
$message // Сообщение, отправляемое вместе с клавиатурой
$buttons = [[$button, ...], ...] // Массив из отправляемый кнопок
$one_time // Не обязательный параметр. Принимает значение True или False. Если True - после нажатия клавиши клавиатуры, клавиатура исчезнет, Flase - не исчезнет. По умолчанию = False
$vk->sendButton($id, $message, $buttons, $one_time);
```
#### Пример, отправка клавиатуры с текстом "Клавиатура":
```php
$id // ID пользователя, кому будет отправлена клавиатура
[[$button, ...], ...] // Массив из отправляемый кнопок
$one_time // Не обязательный параметр. Принимает значение True или False. Если True - после нажатия клавиши клавиатуры, клавиатура исчезнет, Flase - не исчезнет. По умолчанию = False
$vk->sendButton($id, 'Клавиатура', [
	[$button1_1, $button1_2],
	[$button2_1, $button2_2]
], $one_time);
```
Кнопки будут выглядеть так:
```
[ white ] [  blue ]
[ green ] [  red  ]
```
Такой запрос:
```php
$vk->sendButton($id, 'Клавиатура', [
	[$button1_1, $button1_2, $button2_2],
	[$button2_1]
]);
```
Выведет следующие кнопки:
```
[ white ] [  blue ] [  red  ]
[           green           ]
```
### Отправка клавиатуры в беседу:
```php
$id // ID пользователя, кому будет отправлена клавиатура
$message // Сообщение, отправляемое вместе с клавиатурой
$buttons = [[$button, ...], ...] // Массив из отправляемый кнопок
$one_time // Не обязательный параметр. Принимает значение True или False. Если True - после нажатия клавиши клавиатуры, клавиатура исчезнет, Flase - не исчезнет. По умолчанию = False
$vk->sendButtonChat($id, $message, $buttons, $one_time);
```
### Удаление кнопок (клавиатуры из диалога):
Обращаем ваше внимание, что если передать параметр $one_time = True (см. отправка клавиатуры), клавиатура исчезнет после нажатия на одну из кнопок.\
Для того, что-бы вручную выключить клавиатуру, нужно выполнить следующий запрос:
```php
$id // ID пользователя
$message // Сообщение, отправляемое при удалении клавиатуры
$vk->sendButton($id, $message);
```
